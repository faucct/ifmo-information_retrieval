## Индексация.

Параллельная индексация всех партиций заняла 2 минуты, в то время как последовательная заняла 3 минуты.
Размер полученного индекса составляет 1.5 gb.

## Оценка качества поиска.

Выполнение данных поисковых запросов по одному занимает 2.5 секунды.
Выполнение запросов пачками по 10 или 100 запросов позволяет уменьшить это время до 1.4 секунд.

Посчитанные метрики:

| Метрика              | Среднее | Медиана |
|----------------------|---------|---------|
| Precision@20         | 0.30    | 0.2     |
| Recall@20            | 0.22    | 0.17    |
| Average precision@20 | 0.63    | 0.68    |
| Recall-precision@20  | 0.19    | 0.16    |


## Морфология.

### Snowball.

Стандартный анализатор с фильтрами lowercase и snowball дает следующие результаты.

| Метрика              | Среднее | Медиана |
|----------------------|---------|---------|
| Precision@20         | 0.34    | 0.25    |
| Recall@20            | 0.25    | 0.22    |
| Average precision@20 | 0.65    | 0.70    |
| Recall-precision@20  | 0.21    | 0.19    |

В среднем прирост на 2-4%.
Размер индекса 1.2gb.

<div style="page-break-after: always;"></div>

### Mystem.

Изначально предобработанный текст в mystem с помощью [quick example](https://github.com/nlpub/pymystem3).

| Метрика              | Среднее | Медиана |
|----------------------|---------|---------|
| Precision@20         | 0.35    | 0.25    |
| Recall@20            | 0.26    | 0.22    |
| Average precision@20 | 0.64    | 0.72    |
| Recall-precision@20  | 0.22    | 0.19    |

В среднем прирост на 2-4%.
Размер индекса 1gb.

### Примеры запросов. Ответы каждого метода.

request: солнце дом2

snowball: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

mystem: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]


request: поздравления с днем рождения

snowball: [1, 0, 1, 1, 0, 0, 1, 1, 1, 1]

mystem: [1, 0, 1, 1, 1, 1, 1, 1, 1, 0]


request: новосибирский медицинский универ

snowball: [1, 0, 1, 1, 0, 0, 0, 0, 0, 0]

mystem: [1, 0, 0, 0, 0, 0, 1, 0, 0, 0 ]

<div style="page-break-after: always;"></div>

## Оценка качества с PageRank.

PageRank был посчитан в прошлом задании для построения графа гиперссылок.
Значения хранились в виде словаря по URL ссылкам с числом ссылок на страницу.
Затем все значения нормировались на общее число ссылок.
При индексации кроме выделенного, в прошлом задании, из документов текста использовались выделенные гиперссылки.
Так же использовался логарифмический скейлинг.


Как видно полученные метрики почти не отличаются от метрик без PageRank
(отличия только в тысячных):

| Метрика              | Среднее | Медиана |
|----------------------|---------|---------|
| Precision@20         | 0.30    | 0.2     |
| Recall@20            | 0.22    | 0.17    |
| Average precision@20 | 0.63    | 0.68    |
| Recall-precision@20  | 0.19    | 0.16    |
